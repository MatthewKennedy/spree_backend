<!DOCTYPE html>
<html lang="<%= I18n.locale %>">
  <head data-hook="admin_inside_head">
    <%= render partial: 'spree/admin/shared/head' %>
  </head>

  <body class="admin" data-controller="spree">
    <%#-------------------------------------------------%>
    <%# Header navbar                                   %>
    <%#-------------------------------------------------%>
    <%#= render partial: 'spree/admin/shared/header' %>

    <%#-------------------------------------------------%>
    <%# Main content                                    %>
    <%#-------------------------------------------------%>
    <div id="mainWrapper" class="container-fluid
                            <% if content_for?(:sidebar) || content_for?(:page_actions) %>
                             mb-4 mb-lg-0
                            <% end %>">
      <div class="row">

        <%#-------------------------------------------------%>
        <%# Sidebar                                         %>
        <%#-------------------------------------------------%>
        <aside
          class="col-12 col-lg-3 col-xl-2 sidebar position-fixed d-flex justify-content-between flex-column px-0"
          id="main-sidebar"
          data-hook="admin_tabs">
          <div id="carouselMainNavigation" class="carousel slide" data-bs-ride="false">
            <div class="carousel-inner">
              <div class="carousel-item">
                <%= render partial: 'spree/admin/shared/settings_menu' %>
              </div>
              <div class="carousel-item">
                <%= render partial: 'spree/admin/shared/settings_menu' %>
              </div>
              <div class="carousel-item">
                <%= render partial: 'spree/admin/shared/settings_menu' %>
              </div>
              <div class="carousel-item">
                <%= render partial: 'spree/admin/shared/account_nav' %>
              </div>
              <div class="carousel-item active">
                <%= render partial: 'spree/admin/shared/main_menu' %>
              </div>
            </div>
            <div class="d-flex position-fixed bottom-0 py-2 col-12 col-lg-3 col-xl-2 justify-content-center">
              <button type="button" data-bs-target="#carouselMainNavigation" data-bs-slide-to="0" class="p-2" aria-current="true" aria-label="Search">
                <%= svg_icon name: "search.svg", width: '20', height: '20', classes: 'p-0 m-0' %>
              </button>
              <button type="button" data-bs-target="#carouselMainNavigation" data-bs-slide-to="1" class="p-2" aria-current="true" aria-label="Store Switch">
                <%= svg_icon name: "shuffle.svg", width: '20', height: '20', classes: 'p-0 m-0' %>
              </button>
              <button type="button" data-bs-target="#carouselMainNavigation" data-bs-slide-to="2" class="p-2" aria-current="true" aria-label="Settings">
                <%= svg_icon name: "gear.svg", width: '20', height: '20', classes: 'p-0 m-0' %>
              </button>
              <button type="button" data-bs-target="#carouselMainNavigation" data-bs-slide-to="3" class="p-2" aria-label="Account">
                <%= svg_icon name: "person-square.svg", width: '20', height: '20', classes: 'p-0 m-0' %>
              </button>
              <button type="button" data-bs-target="#carouselMainNavigation" data-bs-slide-to="4" class="active p-2" aria-label="Main Menu">
                <%= svg_icon name: "list.svg", width: '20', height: '20', classes: 'p-0 m-0' %>
              </button>
            </div>
          </div>

          <%#= render partial: 'spree/admin/shared/main_menu' %>
        </aside>

        <%#-------------------------------------------------%>
        <%# Content                                         %>
        <%#-------------------------------------------------%>
        <main class="col-12 col-lg-9 col-xl-10 offset-lg-3 offset-xl-2 main" id="main-part">
          <div class="px-lg-4 px-md-2 px-2">

            <%#-------------------------------------------------%>
            <%# Content header (page title/actions)             %>
            <%#-------------------------------------------------%>
            <%= render partial: 'spree/admin/shared/content_header' %>

            <div class="row">

              <%#-------------------------------------------------%>
              <%# Main content                                    %>
              <%#-------------------------------------------------%>
              <div class="<%= content_for?(:sidebar) ? 'with-sidebar col-12 col-lg-9 px-0' : 'col-12 px-0' %>" id="content" data-hook>
                <div class="<%= content_for?(:sidebar) ? 'pe-3' : '' %>">
                  <%= render partial: 'spree/admin/shared/table_filter' if content_for?(:table_filter) %>
                  <%= yield %>
                </div>
              </div>

              <%#-------------------------------------------------%>
              <%# Inner aside                                     %>
              <%#-------------------------------------------------%>
              <% if content_for?(:sidebar) || content_for?(:page_actions) %>
                <div class="col-12 col-lg-3 m-0 p-4 p-lg-0" id="contextualSideMenu">
                  <%= render partial: 'spree/admin/shared/sidebar' %>
                </div>
              <% end %>
            </div>

          </div>
        </main>
      </div>
    </div>

    <%#-------------------------------------------------%>
    <%# Insert footer scripts here                      %>
    <%#-------------------------------------------------%>
    <div id="multi-backdrop" class="modal-backdrop fade"></div>
    <div data-hook="admin_footer_scripts"></div>

    <%#-------------------------------------------------%>
    <%# Alerts                                          %>
    <%#-------------------------------------------------%>
    <div id="FlashAlertsContainer" class="d-none">
      <%= flash_alert(flash) %>
    </div>
  </body>
</html>
