<div class="card">
  <div class="card-header">
     <h5 class="card-title">Payment</h5>

     <% if @order.can_go_to_state?("payment") %>
      Payment button
     <% end %>
  </div>
  <div class="card-body" id="order_tab_summary">
    <ul class="list-group list-group-flush">

      <% if @order.completed? %>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <small data-hook='admin_order_tab_date_completed_title'><%= Spree.t(:date_completed) %></small>
          <span class="text-end small font-weight-bold" id='date_complete'>
            <%= pretty_time(@order.completed_at) %>
          </span>
        </li>
      <% end %>

      <% if @order.approved? %>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <small><%= Spree.t(:approved_at) %></small>
          <span class="text-end small font-weight-bold">
            <%= pretty_time(@order.approved_at) %>
          </span>
        </li>
        <% if @order.approver.present? %>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <small><%= Spree.t(:approver) %></small>
            <span class="text-end small font-weight-bold">
              <%= link_to @order.approver.email, spree.admin_users_path(@order.approver) %>
            </span>
          </li>
        <% end %>
      <% end %>

      <% if @order.canceled? && @order.canceled_at %>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <small><%= Spree.t(:canceled_at) %></small>
          <span class="text-end small font-weight-bold">
            <%= pretty_time(@order.canceled_at) %>
          </span>
        </li>
        <% if @order.canceler.present? %>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <small><%= Spree.t(:canceler) %></small>
            <span class="text-end small font-weight-bold">
              <%= link_to @order.canceler.email, spree.admin_users_path(@order.canceler) %>
            </span>
          </li>
        <% end %>
      <% end %>

      <li class="list-group-item d-flex justify-content-between align-items-center">
        <span class="font-weight-bold" data-hook='admin_order_tab_subtotal_title'><%= Spree.t(:subtotal) %></span>
        <span class="state badge rounded-pill text-capitalize" id='item_total'>
          <%= @order.display_item_total.to_html %>
        </span>
      </li>

      <li class="list-group-item d-flex justify-content-between align-items-center">
        <small data-hook='admin_order_tab_subtotal_title'><%= Spree.t(:discounts) %></small>
        <span class="state badge rounded-pill text-capitalize" id='item_total'>
          <%= @order.display_item_total.to_html %>
        </span>
      </li>

      <% if @order.checkout_steps.include?("delivery") && @order.ship_total > 0 %>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <small data-hook='admin_order_tab_ship_total_title'><%= Spree.t(:ship_total) %></small>
          <span class="state badge rounded-pill text-capitalize" id='ship_total'>
            <%= @order.display_ship_total.to_html %>
          </span>
        </li>
      <% end %>

      <% if @order.included_tax_total != 0 %>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <small data-hook='admin_order_tab_included_tax_title'><%= Spree.t(:tax_included) %></small>
          <span class="state badge rounded-pill text-capitalize" id='included_tax_total'>
            <%= @order.display_included_tax_total.to_html %>
          </span>
        </li>
      <% end %>

      <% if @order.additional_tax_total != 0 %>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <small data-hook='admin_order_tab_additional_tax_title'><%= Spree.t(:tax) %></small>
          <span class="state badge rounded-pill text-capitalize" id='additional_tax_total'>
            <%= @order.display_additional_tax_total.to_html %>
          </span>
        </li>
      <% end %>

      <li class="list-group-item d-flex justify-content-between align-items-center">
        <small data-hook='admin_order_tab_total_title'><%= Spree.t(:total) %></small>
        <span class="state badge rounded-pill bg-primary text-capitalize" id='order_total'>
          <%= @order.display_total.to_html %>
        </span>
      </li>
    </ul>
  </div>
</div>
