<%= turbo_frame_tag :modal, target: :_top do %>
  <div data-controller="modal"
       class="modal fade"
       tabindex="-1"
       aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen">
      <div class="modal-content">
        <div class="modal-body">

          <div class="container">
            <%= turbo_frame_tag :address_fields, data: { controller: "form-validation" } do %>
              <%= form_for @address, url: spree.admin_address_path(@address), method: :patch, data: {turbo: true, turbo_frame: '_top'} do |form| %>
                <%= render partial: 'form', locals: { f: form } %>
              <% end %>
              <%= button_tag "Update Address", formaction: spree.admin_address_path(@address), formmethod: "patch", data: { form_validation_target: "submitBtn", turbo_frame: :address_fields } %>
            <% end %>
          </div>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light" data-bs-dismiss="modal"><%= I18n.t('spree.admin.cancel') %></button>
          <%= submit_tag(I18n.t('spree.admin.save'), class: "btn btn-primary", form: "edit_address_#{@address.id}" ) %>
        </div>
      </div>
    </div>
  </div>
<% end %>
